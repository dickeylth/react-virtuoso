<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-migrate-v0-to-v1">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Migrate from v0 to v1 | React Virtuoso</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://virtuoso.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://virtuoso.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://virtuoso.dev/migrate-v0-to-v1/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migrate from v0 to v1 | React Virtuoso"><meta data-rh="true" name="description" content="Version 1. of Virtuoso is a complete rewrite from v0., addressing the architectural limitations of the first version and enabling a smooth path to introduce new features."><meta data-rh="true" property="og:description" content="Version 1. of Virtuoso is a complete rewrite from v0., addressing the architectural limitations of the first version and enabling a smooth path to introduce new features."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://virtuoso.dev/migrate-v0-to-v1/"><link data-rh="true" rel="alternate" href="https://virtuoso.dev/migrate-v0-to-v1/" hreflang="en"><link data-rh="true" rel="alternate" href="https://virtuoso.dev/migrate-v0-to-v1/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="React Virtuoso RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="React Virtuoso Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FXF8T3XR4N"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-FXF8T3XR4N",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.eb360e6a.css">
<link rel="preload" href="/assets/js/runtime~main.71337158.js" as="script">
<link rel="preload" href="/assets/js/main.078c9673.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_ljL7" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="React Virtuoso" class="themedImage_Qcrx themedImage--light_wnyt"><img src="/img/logo.svg" alt="React Virtuoso" class="themedImage_Qcrx themedImage--dark_lxWr"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/petyosi/react-virtuoso" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wzEd"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_vNXD"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_lgQZ docsWrapper_OhX1"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_kTzF" type="button"></button><div class="docPage_EafZ"><aside class="theme-doc-sidebar-container docSidebarContainer_uJkD"><div class="sidebarViewport_QSe3"><div class="sidebar_noqf"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu__NQQ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/hello/">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/grouped-numbers/">Grouped Mode</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/hello-table/">Table</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/grid-responsive-columns/">Grid</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/endless-scrolling/">Scenarios</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/custom-scroll-container/">Customize Markup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/virtuoso-api-reference/">API Reference</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/migrate-v0-to-v1/">Migrate from v0 to v1</a></li></ul></nav></div></div></aside><main class="docMainContainer_HUqp"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_sadT"><div class="docItemContainer_i0K2"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_xpwo" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ogLU"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Migrate from v0 to v1</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_EGiQ theme-doc-toc-mobile tocMobile_whUO"><button type="button" class="clean-btn tocCollapsibleButton_LQSp">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migrate from v0 to v1</h1></header><p>Version <code>1.*</code> of Virtuoso is a complete rewrite from <code>v0.*</code>, addressing the architectural limitations of the first version and enabling a smooth path to introduce new features. </p><h2 class="anchor anchorWithStickyNavbar_I81V" id="v1-primary-benefits">v1 Primary Benefits<a href="#v1-primary-benefits" class="hash-link" aria-label="Direct link to v1 Primary Benefits" title="Direct link to v1 Primary Benefits">â€‹</a></h2><p>The biggest unresolved challenge in v0 was the so-called <em>reverse</em> (bottom to top) scrolling mode, which is typical for <strong>chat</strong> and <strong>feed</strong> interfaces.
Prepending items with unknown height to the top of the list was not part of the original design and was not handled well, causing visual glitches and &quot;jumps&quot;. This should work fine in v1.</p><h2 class="anchor anchorWithStickyNavbar_I81V" id="whats-new-in-v1">What&#x27;s New in V1<a href="#whats-new-in-v1" class="hash-link" aria-label="Direct link to What&#x27;s New in V1" title="Direct link to What&#x27;s New in V1">â€‹</a></h2><ul><li><code>scrollToIndex</code> method now works supports <code>&quot;smooth&quot;</code> behavior. Previously, this was undocumented and &quot;use at your own risk&quot;. Check the <a href="/migrate-v0-to-v1/scroll-to-index">source code in the example</a></li><li><code>followOutput</code> now accepts <code>&quot;smooth&quot;</code>, which means that new items will gradually push the existing content upwards. </li><li>As an alternative to <code>totalCount</code>, the component now accepts <code>data: any[]</code>, which is then used to infer the total count of the items. Each item is passed as a second argument in the <code>itemContent</code> callback.</li><li>Prepending items is now much easier, using <code>firstItemIndex</code> rather than the <code>adjustForPrependedItems</code> method. Check the <a href="/prepend-items/">prepend items example</a></li><li>Starting the list from the bottom and scrolling up with unknown item sizes should no longer cause glitches and jumps.</li><li>A <code>Header</code> component is introduced, works in both grouped and flat mode.</li><li>All unknown properties are now directly passed as attributes to the scroller DOM element - including event handlers like <code>onScroll</code>. This should eliminate the need to use <code>ScrollContainer</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_I81V" id="breaking-changes">Breaking changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking changes" title="Direct link to Breaking changes">â€‹</a></h2><p>V1 comes with some property renames, new properties, changed DOM structure, and some behavior tweaks.
Most of the old properties have been kept for making the migration easier, with warnings in the console pointing to the new names.
The new DOM structure (and the way to customize it) are documented in the <a href="/customize-structure/">Customize Structure</a></p><h3 class="anchor anchorWithStickyNavbar_I81V" id="item-is-now-itemcontent"><code>item</code> is now <code>itemContent</code><a href="#item-is-now-itemcontent" class="hash-link" aria-label="Direct link to item-is-now-itemcontent" title="Direct link to item-is-now-itemcontent">â€‹</a></h3><p>This is probably the first change you will encounter. Just rename the property and you should be fine.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="group-is-now-groupcontent"><code>group</code> is now <code>groupContent</code><a href="#group-is-now-groupcontent" class="hash-link" aria-label="Direct link to group-is-now-groupcontent" title="Direct link to group-is-now-groupcontent">â€‹</a></h3><p>Same as <code>item</code>, this is a rename without a change in the behavior.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="topitems-is-now-topitemcount"><code>topItems</code> is now <code>topItemCount</code><a href="#topitems-is-now-topitemcount" class="hash-link" aria-label="Direct link to topitems-is-now-topitemcount" title="Direct link to topitems-is-now-topitemcount">â€‹</a></h3><p>Rename, no change in behavior.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="itemheight-is-now-fixeditemheight"><code>itemHeight</code> is now <code>fixedItemHeight</code><a href="#itemheight-is-now-fixeditemheight" class="hash-link" aria-label="Direct link to itemheight-is-now-fixeditemheight" title="Direct link to itemheight-is-now-fixeditemheight">â€‹</a></h3><p>Rename, no change in behavior.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="scrollingstatechange-is-now-isscrolling"><code>scrollingStateChange</code> is now <code>isScrolling</code><a href="#scrollingstatechange-is-now-isscrolling" class="hash-link" aria-label="Direct link to scrollingstatechange-is-now-isscrolling" title="Direct link to scrollingstatechange-is-now-isscrolling">â€‹</a></h3><p>Rename, no change in behavior.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="maxheightcachesize-is-gone"><code>maxHeightCacheSize</code> is gone<a href="#maxheightcachesize-is-gone" class="hash-link" aria-label="Direct link to maxheightcachesize-is-gone" title="Direct link to maxheightcachesize-is-gone">â€‹</a></h3><p>An optimization in the internal data structure made this property unnecessary.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="adjustforprependeditems-is-gone"><code>adjustForPrependedItems</code> is gone<a href="#adjustforprependeditems-is-gone" class="hash-link" aria-label="Direct link to adjustforprependeditems-is-gone" title="Direct link to adjustforprependeditems-is-gone">â€‹</a></h3><p>Use <code>firstItemIndex: number</code> instead. Check the <a href="/prepend-items/">prepend items example</a></p><h3 class="anchor anchorWithStickyNavbar_I81V" id="headercontainer-and-footercontainer-are-gone"><code>HeaderContainer</code> and <code>FooterContainer</code> are gone<a href="#headercontainer-and-footercontainer-are-gone" class="hash-link" aria-label="Direct link to headercontainer-and-footercontainer-are-gone" title="Direct link to headercontainer-and-footercontainer-are-gone">â€‹</a></h3><p>The element type of the wrapper elements can be changed through the <code>headerFooterTag</code>.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="all-container-props-are-migrated-to-the-components-dictionary-property">All <code>*Container</code> Props are Migrated to the <code>components</code> Dictionary Property<a href="#all-container-props-are-migrated-to-the-components-dictionary-property" class="hash-link" aria-label="Direct link to all-container-props-are-migrated-to-the-components-dictionary-property" title="Direct link to all-container-props-are-migrated-to-the-components-dictionary-property">â€‹</a></h3><p>See how it works in the <a href="/customize-structure/">Customize Structure</a>.
<strong>Note:</strong> the <code>components.List</code> (previously <code>ListContainer</code>) now needs a <code>React.forwardRef</code> wrapped component, rather than passing a <code>listRef</code> property.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="emptycomponent-is-now-componentsemptyplaceholder"><code>emptyComponent</code> is now <code>components.EmptyPlaceholder</code><a href="#emptycomponent-is-now-componentsemptyplaceholder" class="hash-link" aria-label="Direct link to emptycomponent-is-now-componentsemptyplaceholder" title="Direct link to emptycomponent-is-now-componentsemptyplaceholder">â€‹</a></h3><p>A rename. No change in the behavior.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="footer-is-now-componentsfooter"><code>footer</code> is now <code>components.Footer</code><a href="#footer-is-now-componentsfooter" class="hash-link" aria-label="Direct link to footer-is-now-componentsfooter" title="Direct link to footer-is-now-componentsfooter">â€‹</a></h3><p>A rename. No change in the behavior.</p><h3 class="anchor anchorWithStickyNavbar_I81V" id="scrollseek-is-now-scrollseekconfiguration"><code>scrollSeek</code> is now <code>scrollSeekConfiguration</code><a href="#scrollseek-is-now-scrollseekconfiguration" class="hash-link" aria-label="Direct link to scrollseek-is-now-scrollseekconfiguration" title="Direct link to scrollseek-is-now-scrollseekconfiguration">â€‹</a></h3><p>The <code>scrollSeek.placeholder</code> is moved to <code>components.ScrollSeekPlaceholder</code></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/petyosi/react-virtuoso/edit/master/docs/migrate-v0-to-v1.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_y0TY" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_E_KV"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/virtuoso-grid-api-reference/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Virtuoso Grid</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_uQu1 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#v1-primary-benefits" class="table-of-contents__link toc-highlight">v1 Primary Benefits</a></li><li><a href="#whats-new-in-v1" class="table-of-contents__link toc-highlight">What&#39;s New in V1</a></li><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight">Breaking changes</a><ul><li><a href="#item-is-now-itemcontent" class="table-of-contents__link toc-highlight"><code>item</code> is now <code>itemContent</code></a></li><li><a href="#group-is-now-groupcontent" class="table-of-contents__link toc-highlight"><code>group</code> is now <code>groupContent</code></a></li><li><a href="#topitems-is-now-topitemcount" class="table-of-contents__link toc-highlight"><code>topItems</code> is now <code>topItemCount</code></a></li><li><a href="#itemheight-is-now-fixeditemheight" class="table-of-contents__link toc-highlight"><code>itemHeight</code> is now <code>fixedItemHeight</code></a></li><li><a href="#scrollingstatechange-is-now-isscrolling" class="table-of-contents__link toc-highlight"><code>scrollingStateChange</code> is now <code>isScrolling</code></a></li><li><a href="#maxheightcachesize-is-gone" class="table-of-contents__link toc-highlight"><code>maxHeightCacheSize</code> is gone</a></li><li><a href="#adjustforprependeditems-is-gone" class="table-of-contents__link toc-highlight"><code>adjustForPrependedItems</code> is gone</a></li><li><a href="#headercontainer-and-footercontainer-are-gone" class="table-of-contents__link toc-highlight"><code>HeaderContainer</code> and <code>FooterContainer</code> are gone</a></li><li><a href="#all-container-props-are-migrated-to-the-components-dictionary-property" class="table-of-contents__link toc-highlight">All <code>*Container</code> Props are Migrated to the <code>components</code> Dictionary Property</a></li><li><a href="#emptycomponent-is-now-componentsemptyplaceholder" class="table-of-contents__link toc-highlight"><code>emptyComponent</code> is now <code>components.EmptyPlaceholder</code></a></li><li><a href="#footer-is-now-componentsfooter" class="table-of-contents__link toc-highlight"><code>footer</code> is now <code>components.Footer</code></a></li><li><a href="#scrollseek-is-now-scrollseekconfiguration" class="table-of-contents__link toc-highlight"><code>scrollSeek</code> is now <code>scrollSeekConfiguration</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Petyo Ivanov. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.71337158.js"></script>
<script src="/assets/js/main.078c9673.js"></script>
</body>
</html>